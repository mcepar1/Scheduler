# -*- coding: utf-8 -*-

import wx
import wx.grid

from data import turnus

class TurnusPanel(wx.Panel):
  def __init__(self,parent):
    wx.Panel.__init__(self, parent)
    
    sizer = wx.BoxSizer(wx.VERTICAL)
    
    grid = wx.grid.Grid(self, -1)
    self.fill_grid(grid)
    
    sizer.Add(grid,1,wx.ALIGN_LEFT)
    
    self.SetSizerAndFit(sizer)
    
  def fill_grid(self, grid):
    """import datetime
    tc = turnus.TurnusContainer()
    
    t = turnus.Turnus("D", "eno izmensko", datetime.time(hour = 8), datetime.time(hour = 16))
    tc.add_all([t])
    t = turnus.Turnus("D", "več izmensko", datetime.time(hour = 7), datetime.time(hour = 14))
    tc.add_all([t])
    t = turnus.Turnus("P", "več izmensko", datetime.time(hour = 7), datetime.time(hour = 14))
    tc.add_all([t])
    t = turnus.Turnus("N", "več izmensko", datetime.time(hour = 7), datetime.time(hour = 14))
    tc.add_all([t])
    t = turnus.Turnus("C", "celodnevno", datetime.time(hour = 7), datetime.time(hour = 19))
    tc.add_all([t])"""
    tc = turnus.TurnusContainer()
    #tc.save()
    tc.load()
      
    table = tc.as_table()
    headers = table['header']
    rows = table['items']
    
    grid.CreateGrid(len(rows),len(headers))
      
    for i in range(len(headers)):
      grid.SetColLabelValue(i, headers[i])
      
    for i in range(len(rows)):
      for j in range(len(rows[i])):
        grid.SetCellValue(i, j, rows[i][j])
        
    grid.AutoSize()
